# 用户手册

#### 前言

这里面列举了一些常见的指令  
有一部分还在持续编写中  
当然可能有漏掉了没列举出来的指令  
如果知道的话还请来一起编写

## 常见的指令

读完这一部分你就可以对常见的coc跑团指令大体了解了

| 以下内容将介绍的指令 |  |  |
| :--- | :--- | :--- |
| .setcoc | 设置房规 |  |
| .coc | coc人物作成 |  |
| .st | 导入属性 |  |
| .r | 投掷指令 | 可选词缀 |
|  | d | 多面骰 |
|  | a | 检定 |
|  | h | 暗骰 |
|  | \# | 多轮检定 |
|  | bp | 奖励骰&惩罚骰 |
| .sc | 疯狂检定 |  |
| .ti | 临时疯狂症状 |  |
| .li | 总结疯狂症状 |  |
| .en | 技能成长 |  |
| .help | 帮助指令 |  |

## **设置COC房规**`.setcoc`

输入.setcoc 0-5即可设置房规了

```text
群聊->.setcoc 0
群聊<-默认检定房规已设置:0 规则书
      出1大成功
      不满50出96-100大失败，满50出100大失败

群聊->.setcoc 5
群聊<-默认检定房规已设置:5
      出1-2且<五分之一大成功
      不满50出96-100大失败，满50出99-100大失败
```

如果你遗忘了或者不知道具体有哪些房规  
对着骰娘输入.help setcoc  
你会获得这样一份清单：

```text
群聊->.help setcoc
群聊<-为当前群或讨论组设置COC房规，如.setcoc 1,当前参数0-5
      0 规则书
      出1大成功
      不满50出96 - 100大失败，满50出100大失败
      1
      不满50出1大成功，满50出1 - 5大成功
      不满50出96 - 100大失败，满50出100大失败
      2
      出1 - 5且 <= 成功率大成功
      出100或出96 - 99且 > 成功率大失败
      3
      出1 - 5大成功
      出96 - 100大失败
      4
      出1 - 5且 <= 十分之一大成功
      不满50出 >= 96 + 十分之一大失败，满50出100大失败
      5
      出1 - 2且 < 五分之一大成功
      不满50出96 - 100大失败，满50出99 - 100大失败
      如果其他房规可向开发者反馈
      无论如何，群内检定只会调用群内设置，否则后果将是团内成员不对等
```

## **coc人物做成**`.coc`

* 格式为.coc\(6\|7\) 次数  
  \(6\|7\)为六版规则或七版规则  
  默认为七版规则 示例如下：

  ```text
    群聊->.coc
    群聊<-本骰娘觉得NULL这次的属性是下面这些:
          力量:85 体质:70 体型:70 敏捷:45 外貌:45 智力:50 意志:50 教育:90 幸运:55 共计:505/560

    群聊->.coc 5
    群聊<-本骰娘觉得NULL这次的属性是下面这些:
          力量:50 体质:45 体型:65 敏捷:60 外貌:50 智力:45 意志:55 教育:45 幸运:45 共计:415/460
          力量:60 体质:60 体型:85 敏捷:40 外貌:80 智力:75 意志:50 教育:50 幸运:80 共计:500/580
          力量:35 体质:40 体型:70 敏捷:75 外貌:30 智力:50 意志:60 教育:85 幸运:35 共计:445/480
          力量:35 体质:60 体型:65 敏捷:70 外貌:75 智力:55 意志:40 教育:55 幸运:75 共计:455/530
          力量:45 体质:60 体型:70 敏捷:35 外貌:65 智力:80 意志:40 教育:75 幸运:15 共计:470/485

    群聊->.coc7
    群聊<-本骰娘觉得NULL这次的属性是下面这些:
          力量:65 体质:55 体型:60 敏捷:40 外貌:65 智力:70 意志:60 教育:75 幸运:75 共计:490/565

    群聊->.coc7 5
    群聊<-本骰娘觉得NULL这次的属性是下面这些:
          力量:50 体质:50 体型:40 敏捷:40 外貌:55 智力:45 意志:55 教育:60 幸运:50 共计:395/445
          力量:70 体质:50 体型:65 敏捷:50 外貌:65 智力:65 意志:70 教育:65 幸运:70 共计:500/570
          力量:45 体质:75 体型:85 敏捷:80 外貌:40 智力:55 意志:40 教育:60 幸运:50 共计:480/530
          力量:70 体质:40 体型:70 敏捷:50 外貌:35 智力:55 意志:45 教育:60 幸运:35 共计:425/460
          力量:60 体质:70 体型:65 敏捷:45 外貌:50 智力:40 意志:45 教育:65 幸运:45 共计:440/485
  ```

## **导入属性技能**`.st`

* .st 技能名 技能值 ...

  或者使用半自动简化卡进行导入  
  只要你设置过了一次，骰娘就会永远的记住你的属性，直到你自己删除为止  
  举例如下：

  ```text
  群聊->.st 侦察 50
  群聊<-属性设置成功√

  群聊->.st 侦察 50 图书馆 50
  群聊<-属性设置成功√
  ```

当然实际上.st的作用还有很多， 具体的请对骰娘.help st

## **log指令**`.log`

* 示例：

  ```text
  群聊->.log new
  群聊<-本骰娘开始新日志记录√
       请适时用.log off暂停或.log end完成记录
  群聊->测试
  群聊->.log off
  群聊<-本骰娘已暂停日志记录√
       可使用.log on恢复记录
  群聊->测试
  群聊->中间不会记录
  群聊->.log on
  群聊<-本骰娘开始日志记录√
        可使用.log off暂停记录
  群聊->这里是会记录的
  群聊->.log end
  群聊<-本骰娘已完成日志记录√
        正在上传日志文件group_123456789_789456123.txt
  群聊<-本骰娘已完成日志上传√
  请访问 https://logpainter.kokona.tech/?s3=group_123456789_789456123.txt 以查看记录
  ---------
  log文件如下：
  NULL(qq号) 2021-01-12 08:43:14
  测试
  
  NULL(qq号) 2021-01-12 08:43:45
  这里是会记录的
  ```

## **骰点指令**`.r`

* 示例：

  ```text
  群聊->.r
  群聊<-NULL骰出了: D100=68
  ```

这里默认为1d100,完整指令为.r1d100

## **.r可选词缀：**

### **多面骰：**`d`

* 格式为.r xdy 原因

  x为投掷几个,y为几面骰

* 基本上所有的东西后面都可以接运算符号  
  举例如下

  ```text
    群聊->.r2d10
    群聊<-NULL骰出了: 2D10=4+3=7

    群聊->.r1d10+1d5-1d3/1d3
    群聊<-NULL骰出了: 1D10+1D5-1D3/1D3=8+5-1=12

    群聊->.rd2 正反
    群聊<-由于正反 NULL骰出了: D2=1
  ```

### **检定：**`a`

* 格式为.ra \(检定名称\) \(检定值\)  
  如果你已经设置过对应的检定值了那么只要输入检定名称就可以了  
  以下是几个示例：

  ```text
    群聊->.ra 侦察
    群聊<-NULL进行侦查检定D100=55/50 失败

    群聊->.ra 侦察 60
    群聊<-NULL进行侦察检定D100=51/60 成功

    群聊->.ra 60
    群聊<-NULL进行检定D100=40/60 成功
  ```

### **暗骰：**`h`

* 如果你想暗骰的话可以这样用  
  注意检查所在群有没有允许群成员私聊  
  如果没有的话请添加好友或请管理开启  
  否则将无法收到私聊

  ```text
    群聊->.rh
    群聊<-NULL进行了一次暗骰
    私聊<-在[群名](群号)中 NULL骰出了: D100=63

    群聊->.rah 50
    群聊<-NULL进行了一次暗中检定√
    私聊<-在[群名](群号)中 NULL进行检定D100=56/50 失败

    群聊->.rah 侦察
    群聊<-NULL进行了一次暗中侦查检定√
    私聊<-在[群名](群号)中 NULL进行侦查检定D100=16/50 困难成功
  ```

### **多轮投掷：**`#`

* 如果你想多轮检定的话可以这样使用

  ```text
    群聊->.r3#3d3
    群聊<-NULL掷骰3次: 3D3=
          3+2+3=8
          2+3+1=6
          2+2+1=5

    群聊->.ra3#侦察
    群聊<-NULL进行侦查检定
          D100=25/50 困难成功
          D100=81/50 失败
          D100=14/50 困难成功

    群聊->.rah3#侦察
    群聊<-NULL进行了一次暗中侦查检定√
    私聊<-在[群名](群号)中 NULL进行侦查检定
          D100=17/50 困难成功
          D100=43/50 成功
          D100=5/50 大成功
  ```

### **奖励骰&惩罚骰：**`bp`

* 奖励骰和奖励骰检定是不一样的  
  奖励骰检定需要你加一个a  
  同样的,这里可以用多轮检定和暗骰  
  格式为在指令末加上b或者p然后再加上数字

  ```text
    群聊->.rb
    群聊<-NULL骰出了: B=57[奖励骰:4]=47

    群聊->.rab 侦察 40
    群聊<-NULL进行侦察检定B=90[奖励骰:8]=80/40 失败

    群聊->.rab 40
    群聊<-NULL进行检定B=90[奖励骰:8]=80/40 失败

    群聊->.rab3 40
    群聊<-NULL进行检定B3=12[奖励骰:5 6 6]=12/40 困难成功

    群聊->.st 侦察 50
    群聊<-属性设置成功√
    群聊->.rab 侦察
    群聊<-NULL进行侦查检定B=20[奖励骰:10]=20/50 困难成功

    群聊->.rap 侦察
    群聊<-NULL进行侦查检定P=94[惩罚骰:0]=94/50 失败了

    群聊->.rab3 侦察
    群聊<-NULL进行侦查检定B3=60[奖励骰:4 4 8]=40/50 成功

    群聊->.rah3#b 侦察
    群聊<-NULL进行了一次暗中侦查检定√
    私聊<-在[群名](群号)中 NULL进行侦查检定
          B=15[奖励骰:3]=15/50 困难成功
          B=12[奖励骰:0]=2/50 极难成功
          B=10[奖励骰:4]=10/50 极难成功
  ```

  以上这些基本都可以相互嵌套  
  只是顺序必须是.r\(a\)\(h\)\(x\#\)\(bx\|px\) xdy  
  上面一行的x和y都是数字,括号则为可选项  
  加了什么符号就要加上什么符号的格式

## **SanCheck：**`.sc`

* 疯狂检定格式为

  .sc 成功检定表达式/失败检定表达式 \(san值\)

  如果你已经设置过你的san值了

  那么后面的那个san值可以省略

  举例：

  ```text
    群聊->.sc 1/1d3
    群聊<-本骰娘只能记住0-99范围的整数san

    群聊->.sc 1/1d3 50
    群聊<-NULL的San Check：
          1D100=73/50 失败
          NULL的San值减少1D3=2点,当前剩余48点
  --------
    群聊->.st san 50
    群聊<-属性设置成功√

    群聊->.sc 1/1d3
    群聊<-NULL的San Check：
          1D100=6/50 成功
          NULL的San值减少1点,当前剩余49点

    群聊->.sc 1/1d3
    群聊<-NULL的San Check：
          1D100=2/49 成功
          NULL的San值减少1点,当前剩余48点
  ```

## **临时疯狂症状：**`.ti`

```text
群聊->.ti
群聊<-NULL的疯狂发作-临时症状:
      1D10=8
      症状: 竭嘶底里：调查员表现出大笑，哭泣，嘶吼，害怕等的极端情绪表现，持续1D10=8轮。
```

## **总结疯狂症状：**`.li`

```text
群聊->.li
群聊<-NULL的疯狂发作-总结症状:
      1D10=7
      症状: 被收容：1D10=3小时后，调查员在精神病院病房或警察局牢房中回过神来
```

## **成长检定：**`.en`

* 成长检定的格式为.en 你的技能 \(技能值\)  
  如果你已经.st设置过了  
  那么后面的技能值可以省略  
  否则都是以默认值为基础进行成长  
  举例：

  ```text
    群聊->.en 聆听
    群聊<-NULL的聆听增强或成长检定：
          1D100=67/20 成功了!耶!
          NULL的聆听增加1D10=3点，当前为23点

    群聊->.st 聆听 50
    群聊<-属性设置成功√

    群聊->.en 聆听
    群聊<-NULL的聆听增强或成长检定：
          1D100=32/50 失败了~_~
          NULL的聆听值没有变化
  ```

* 看到这里常见的跑团指令基本就都已经看完了

  开始享受你的跑团乐趣吧~

  当然,可能你会在跑团过程中忘记或者需要更多的指令介绍

  你可以随时使用.help指令进行查询

## **帮助指令：**`.help`

指令格式：.help 需要查询的指令 示例如下：

```text
群聊->.help bot
群聊<-.bot on/off开启/静默骰子（限群管理）
      .bot无视静默状态，只要插件开启且不在黑名单总是有效

群聊->.help st
群聊<-属性记录：.st (del/clr/show) ([属性名]:[属性值])
      用户默认所有群使用同一张卡，pl如需多开请使用.pc指令切卡
      .st力量:50 体质:55 体型:65 敏捷:45 外貌:70 智力:75 意志:35 教育:65 幸运:75
      .st hp-1 后接+/-时视为从原值上变化
      .st san+1d6 修改属性时可使用掷骰表达式
      .st del kp裁决    //删除已保存的属性
      .st clr    //清空当前卡
      .st show 灵感    //查看指定属性
      .st show    //无参数时查看所有属性，请使用只st加点过技能的半自动人物卡！
      部分COC属性会被视为同义词，如智力/灵感、理智/san、侦查/侦察
```

## 等待编写...

|  |  |  |  |
| :--- | :--- | :--- | :--- |
| .rules | 规则速查 | .dnd | DND人物作成 |
| .pc | 角色卡 | .jrrp | 今日人品：.jrrp |
| .bot on/off | 开启/关闭骰娘 | .name | 随机姓名 |
| .dismiss | 让骰娘离开当前群 | .ob | 旁观 |
| .nn | 设置昵称 | .deck | 在群内自设牌堆 |
| .welcome | 入群欢迎词 | .send | 发送消息给维护人员 |
| .draw | 抽牌 | .group | 群聊操作 |

以及可能没有统计进来的指令

